---
title: "Google Data Analytics Case Study #2: Bellabeat"
author: "Saiyid Rizvi"
date: "10/23/2021"
output: html_document
---

## Bellabeat Case Study

This case study, a part of the Google Data Analytics Course, examines user data from 30 FitBit users to find trends which could help Bellabeat promote their fitness tracking products.

## Bellabeat

Bellabeat is a high-tech manufacturer of health-focused products for women. Bellabeat is a successful small company, but they have the potential to become a larger player in the global smart device market.

## Stakeholders

Urška Sršen: Bellabeat’s cofounder and Chief Creative Officer
Sando Mur: Mathematician and Bellabeat’s cofounder; key member of the Bellabeat executive team

## About the Data

These datasets were made available through kaggle.com via user Möbius. These datasets were generated by respondents to a distributed survey via Amazon Mechanical Turk between 03.12.2016-05.12.2016. Thirty eligible Fitbit users consented to the submission of personal tracker data, including minute-level output for physical activity, heart rate, and sleep monitoring.

## Installing Packages
This will install the packages needed to complete this analysis.
```{r}
install.packages("tidyverse")
install.packages("dplyr")
install.packages("ggplot2")
install.packages("readr")
install.packages("tibble")
install.packages("tidyr")
install.packages("lubridate")
install.packages("skimr")
```

## Loading Packages
This will load the packages to begin using.
```{r}
library(tidyverse)
library(dplyr)
library(ggplot2)
library(readr)
library(tibble)
library(tidyr)
library(lubridate)
library(skimr)
```

## Importing Datasets
Datasets from daily activity, sleep activity, and weight activty are being imported.
```{r}
dailyActivity_merged <- read_csv("FitBit/Fitabase Data 4.12.16-5.12.16/dailyActivity_merged.csv", 
    col_types = cols(ActivityDate = col_date(format = "%m/%d/%Y")))

###ActivityDate format is updated

sleepDay_merged <- read_csv("FitBit/Fitabase Data 4.12.16-5.12.16/sleepDay_merged.csv")

weightLogInfo_merged <- read_csv("FitBit/Fitabase Data 4.12.16-5.12.16/weightLogInfo_merged.csv")

```

## Viewing Imported Datasets
The following code will create helpful views of each dataset.
```{r}
head(dailyActivity_merged)
str(dailyActivity_merged)
glimpse(dailyActivity_merged)
colnames(dailyActivity_merged)
```

```{r}
head(sleepDay_merged)
str(sleepDay_merged)
glimpse(sleepDay_merged)
colnames(sleepDay_merged)
```

```{r}
head(weightLogInfo_merged)
str(weightLogInfo_merged)
glimpse(weightLogInfo_merged)
colnames(weightLogInfo_merged)
```

## Cleaning Data
The objective here is to make sure there is no repeating information to skew analysis.
```{r}
#Checking for duplicates
duplicated(dailyActivity_merged)
sum(duplicated(dailyActivity_merged))

duplicated(sleepDay_merged)
sum(duplicated(sleepDay_merged))

duplicated(weightLogInfo_merged)
sum(duplicated(weightLogInfo_merged))

#There were 3 duplicates found in the sleep dataset.

```

Those duplicates that were found will be removed with the following code.
```{r}
sleepDay_merged <- sleepDay_merged %>%
	distinct()

#This will remove the duplicated information found
```

## Checking The Amount of Unique User IDs
This will confirm each participant from each dataset.
```{r}
n_unique(dailyActivity_merged$Id)
n_unique(sleepDay_merged$Id)
n_unique(weightLogInfo_merged$Id)

#As a rule of thumb, there should be at least 30 different participants to avoid skewed analysis. The daily activity data is the only dataset that meets that criteria. There were also 33 unique IDs found even though the info stated 30. There could potentially be a breach of consent unless there were certain users who participated that weren't accounted for.
```

## Difference in User Activity Data Bar Plot
This plot is meant to emphasize out of the said 30 participants, there were more than stated in the description. We would want to make sure the 3 extra shown from daily activity have consented to having their data used.
```{r}
ggplot() +
  geom_bar(data = sleepDay_merged, aes(x = n_unique(Id), fill = 'Sleep ID')) + 
  geom_bar(data = weightLogInfo_merged, aes(x = n_unique(Id), fill = 'Weight ID')) +
  geom_bar(data = dailyActivity_merged, aes(x = n_unique(dailyActivity_merged$Id), fill = 'Daily ID')) +
  labs(title = 'Difference In User Activity Data', subtitle = "Sleep Vs. Weight Vs. Daily Activity") +
  theme(axis.title.y=element_blank(),
        axis.text.y=element_blank(),
        axis.ticks.y=element_blank()) +
  annotate('text', x=24, y=850, label= "Daily Activity has the most user input(33)") +
  annotate('text', x=13.5, y= 120, label= 'Weight has the least user input(8)') +
  annotate('text', x=20, y=500, label= "Sleep Activity shows input from 24 users")+
  labs(x= 'Unique IDs') +
  scale_fill_discrete(name= 'IDs')
```

## Calculating Percentage of Active Minutes
Here, the objective is to calculate the amount of minutes spent in each category. This will give us a better understanding of how active the users were. 
```{r}
#First step is to total each type of active minutes
TotalSedentaryMins<- dailyActivity_merged %>% 
  summarize(sum(SedentaryMinutes))

TotalLightlyActiveMins<- dailyActivity_merged %>% 
  summarize(sum(LightlyActiveMinutes))

TotalFairlyActiveMins<- dailyActivity_merged %>% 
  summarize(sum(FairlyActiveMinutes))

TotalVeryActiveMins <- dailyActivity_merged %>% 
  summarize(sum(VeryActiveMinutes))

TotalActiveMins<- sum(TotalFairlyActiveMins + TotalLightlyActiveMins + TotalSedentaryMins + TotalVeryActiveMins)
```

```{r}
#Next step is to convert into percentage
SedMinPercent<- TotalSedentaryMins/TotalActiveMins * 100
LightMinPercent<- TotalLightlyActiveMins/TotalActiveMins * 100
FairlyMinPercent<- TotalFairlyActiveMins/TotalActiveMins * 100
VeryActvMinPercent<- TotalVeryActiveMins/TotalActiveMins * 100
#An overwhelming majority of sedentary minutes were logged compared to the others. This could mean most users were sitting or had the device down while on most of the time during the 30 days.
```

```{r}
#Last step is to verify totals are correct
PercentTotal<- sum(SedMinPercent+LightMinPercent+FairlyMinPercent+VeryActvMinPercent)
```

![This is a pie chart created in Google Sheets which displays the amount of active minutes spent in each category](FitBit/Fitabase Data 4.12.16-5.12.16/Breakdown of Active Minutes.png)

## Additional Visualizations in Tableau

*To view an interactive line graph of the eight users who submitted weight activity [click here]<https://public.tableau.com/views/FitBitActivity_16348427455720/WeightTrackerActivity?:language=en-US&:display_count=n&:origin=viz_share_link>

*To view an interactive dashboard of the active minutes used per user [click here]<https://public.tableau.com/views/FitBitActivity_16348427455720/ActiveMinutesDashboard?:language=en-US&:display_count=n&:origin=viz_share_link>

*To view an interactive dashboard of the caloric activity with distance per user [click here]<https://public.tableau.com/views/FitBitActivity_16348427455720/CaloricandDistanceActivityPerUserDashboard?:language=en-US&:display_count=n&:origin=viz_share_link>

## Key Findings
*We see how these datasets are from 2016 which would make them outdated.

*There was no data with user feedback with their experience wearing the devices. Also, there may have been different types of devices which are not clearly indicated from the datasets.

*Among the trends found, was that there were very few users who submitted weight activity data. There was not at least data from 30 users in weight or sleep activity. 

*We can see the busiest activity as demonstrated via the link to the caloric/distance activity dashboard.

*It is uncertain how long the users wore their devices

## Conclusion/Steps Ahead
*At the time of the survey, there was nothing to indicate the users stress levels, mindfulness, or menstrual cycle which Bellabeat App offers.

*Due to the the high amount caloric and distance tracking activity, moving to market the Spring Smart Water Bottle would be a step in the right direction. Before moving forward, it may be beneficial to see if we can got quantitative data on how frequent the user checked specific categories from their devices.

*Further analysis is needed to get a more accurate understanding of how the users are interacting with the devices. It also serve of great use to obtain feedback on the design and comfort of the devices being used.


